(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}},i={}.hasOwnProperty,e=function(t,e){function r(){this.constructor=t}for(var s in e)i.call(e,s)&&(t[s]=e[s]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Tapjoy.PublisherMessage=function(i){function r(){return this.impression_url=t(this.impression_url,this),this.button2=t(this.button2,this),this.button1=t(this.button1,this),this.display=t(this.display,this),this.recenter=t(this.recenter,this),this.initialize=t(this.initialize,this),r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),$(document).bind("touchmove",function(t){return t.preventDefault()}),this.ad.background_image&&this.element.find("#message").css("background-image","url('"+this.ad.background_image+"')"),this.element.find(".title").text(this.ad.title).css("color",this.ad.title_text_color),this.element.find(".body").text(this.ad.body).css("color",this.ad.body_text_color),this.element.find("#message").css("background-color",this.ad.background_color).css("border-style",this.ad.border_style).css("border-width",this.ad.border_width).css("border-color",this.ad.border_color).css("border-radius",this.ad.border_radius),this.element.find(".action").css("background-color",this.ad.button_color).css("color",this.ad.button_text_color).css("border-color",this.ad.button_border_color),this.element.find("#button1").text(this.ad.button1_text).click(this.button1),"true"===this.ad.button2_enabled?this.element.find("#button2").text(this.ad.button2_text).css("display","block").click(this.button2):this.element.find("#button2").css("display","none"),this.recenter(),window.addEventListener("resize",this.recenter,!1)},r.prototype.recenter=function(){return $("#container").css("margin-top",($("body").height()-$("#container").height())/2+"px"),$(".content").css("margin-top",($("#message").height()-$(".content").height())/2+"px")},r.prototype.display=function(){return this.present({visible:!0,transparent:!0})},r.prototype.button1=function(){return this._button("button1")},r.prototype.button2=function(){return this._button("button2")},r.prototype.impression_url=function(){return this.ad.publisher_message_impression_url},r.prototype._button=function(t){var i=this;return this._recordClick(t,function(){switch(i.ad[""+t+"_action"]){case"offerwall":return i._setLocation(i.ad[""+t+"_offerwall_url"]);case"video":return i._setLocation(i.ad[""+t+"_video_url"]);case"url":return i.displayURL(i.ad[""+t+"_url"],!0,i.dismiss);case"iar":return i._inAppRedirect(t)}})},r.prototype._inAppRedirect=function(t){var i,e;switch(i=this.ad[""+t+"_iar_identifier"],e=this.ad[""+t+"_iar_quantity"],this.ad[""+t+"_iar_type"]){case"inAppPurchase":return this.sendIAPCallback(i,this.dismiss);case"currency":return this.sendCurrencyCallback(i,e,this.dismiss);case"virtualGood":return this.sendVirtualGoodCallback(i,e,this.dismiss);case"navigation":return this.sendNavigationCallback(i,this.dismiss)}},r.prototype._recordClick=function(t,i){return $.ajax({url:this.ad["publisher_message_"+t+"_click_url"],type:"POST",dataType:"text",complete:i})},r.prototype._setLocation=function(t){return window.location.href=t},r}(Tapjoy.AdUnit)}).call(this);
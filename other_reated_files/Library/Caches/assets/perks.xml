<Perks> <Perk Name="EndStanceClear"> <Trigger> <Events> <RoundStageStart Name="EndStance" /> </Events> <Actions> <ClearMods /> </Actions> </Trigger> </Perk> <Perk Name="PERK_DOUBLE_SWEEP" Image="double_sweep"/> <Perk Name="PERK_HELM_BREAKER" Template="EndStanceClear" Image="IconHelmBreaker"> <Set DamageFactor="5850" Chance="0.2" Frames="300" Defense="HeadDefense" /> <Trigger> <Events> <HitPreCrit Player="Enemy" Defense="_Defense" Block="0"/> </Events> <Conditions> <ModExists Name="Blocker" Not="1" /> </Conditions> <Actions> <ModFlag Name="Blocker" Frames="_Frames" /> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <Random Chance="_Chance" /> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="IconHelmBreaker_Red" Player="Enemy"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Defense="_Defense"/> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_DOUBLE_JUMP_KICK" Image="double_jump_kick"/> <Perk Name="PERK_AVENGER" Template="EndStanceClear" Image="IconAvenger"> <Set Chance="0.3" Frames="300" DamageFactor="5850"/> <Trigger> <Events> <HitPostCrit Player="Me" Critical="1"/> </Events> <Conditions> <ModExists Name="Icon" Not="1"/> <Random Chance="_Chance"/> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="IconAvenger_Blue" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" Critical="1"/> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance"/> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="Weapon" Block="0"/> <HitPostCrit Player="Enemy" Animation="Unarmed" Block="0"/> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes DamageFactor="_DamageFactor" Frames="1" /> <SetHit Critical="1"/> <ClearMods Name="Icon"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_DESPERATE" Template="EndStanceClear" Image="IconDesperate"> <Set DamageFactor="3219" HealthLimit="0.1" Step="20" /> <Trigger Name="PERK_DESPERATE_OFF"> <Events> <EveryFrame Step="_Step" /> </Events> <Conditions> <ModExists Name="Icon" /> <Health Max="_HealthLimit" Not="1" /> </Conditions> <Actions> <ClearMods /> </Actions> </Trigger> <Trigger Name="PERK_DESPERATE_ON"> <Events> <EveryFrame Step="_Step" /> </Events> <Conditions> <RoundStage Name="Fight" /> <ModExists Name="Icon" Not="1" /> <Health Min="0" Max="_HealthLimit" /> </Conditions> <Actions> <ModIcon Name="Icon" Image="IconDesperate_Blue"/> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="Weapon" /> <HitPreCrit Player="Enemy" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ELBOW_STRIKE" Image="elbow_strike"/> <Perk Name="PERK_MIRROR" Template="EndStanceClear" Image="IconMirror"> <Set DamageFactor="5850" Chance="0.2" Frames="120" /> <Trigger Name="PERK_MIRROR_ON"> <Events> <PostHit Block="1"/> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Random Chance="_Chance" /> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="IconMirror_Blue" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Block="1"/> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="Weapon" /> <HitPreCrit Player="Enemy" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_COBRA" Template="EndStanceClear" Image="IconCobra" Description="PERKDESCRIPTION_COBRA{20}{3}"> <Set Frames="180" Chance="0.2" Health="1"/> <Trigger> <Events> <RoundStageStart Name="Fight"/> </Events> <Conditions> <Random Chance="_Chance"/> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="IconCobra_Blue"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Block="0" Animation="Weapon"/> <PostHit Player="Enemy" Block="0" Animation="Unarmed"/> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <SetHit Damage="?Root[ ?Hit[].Damage + _Health]"/> <ClearMods Name="Icon" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="RangedMissile"/> <HitPostCrit Player="Enemy" Animation="MagicMissile"/> <HitPostCrit Player="Me" Block="0"/> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ClearMods Name="Icon" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_TWO_FOOT_JUMP_KICK" Image="two_foot_jump_kick"/> <Perk Name="PERK_BLOCK_BREAKER" Template="EndStanceClear" Image="IconBlockBreaker"> <Set Chance="0.05" Frames="90" /> <Trigger> <Events> <HitPreCrit Block="1" Player="Enemy" /> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Random Chance="_Chance" /> </Conditions> <Actions> <SetHit Block="0" /> <ModIcon Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Block="1" Player="Enemy" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance" /> </Conditions> <Actions> <SetHit Block="0" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_FURIOUS" Template="EndStanceClear" Image="IconFurious"> <Set DamageFactor="4854" Chance="1" Frames="480"/> <Trigger Name="PERK_FURIOUS_ON"> <Events> <HitPostCrit Player="Enemy" Block="0" Animation="Weapon"/> <HitPostCrit Player="Enemy" Block="0" Animation="Unarmed"/> </Events> <Conditions> <Random Chance="_Chance"/> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModIcon Name="Icon" Image="IconFurious_Blue" Frames="_Frames" ShowExpiration="1"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="Weapon"/> <HitPostCrit Player="Enemy" Animation="Unarmed"/> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> <Trigger Name="PERK_FURIOUS_OFF"> <Events> <HitPostCrit Player="Me" /> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ClearMods Name="Icon"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_BACK_FLIP_KICK" Image="back_flip_kick"/> <Perk Name="PERK_PAIN_RAGE" Template="EndStanceClear" Image="IconPainRage"> <Set DamageFactor="3785" Animation="Unarmed" /> <Trigger> <Events> <PostHit Player="Me" Shock="1" /> </Events> <Conditions> <ModExists Name="RageOn" Not="1" /> </Conditions> <Actions> <ModFlag Name="RageOn" /> <ModIcon Name="Icon" Image="IconPainRage_Blue" /> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <ModExists Name="RageOn" /> </Conditions> <Actions> <ModAttributes Player="Me" Frames="1" DamageFactor="_DamageFactor" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_FULL_POWER" Template="EndStanceClear" Image="IconEnergyRush"> <Set Frames="240" DamageFactor="5850" Chance="0.5" Animation="MagicMissile"/> <Trigger> <Events> <MagicCharged/> </Events> <Conditions> <Random Chance="_Chance"/> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" Image="IconEnergyRush_Blue" ShowExpiration="1"/> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="_Animation"/> </Events> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <Set DamageFactor="_DamageFactor"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_STEEL_FOOT" Template="EndStanceClear" Image="IconStunningFoot"> <Set Animation="Kick" Animation2="Jump" Chance="0.2" Chance2="0.4" Frames="90" /> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" Block="0" /> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Random Chance="_Chance" /> <CurrentAnimation Name="_Animation2" Not="1"/> </Conditions> <Actions> <ModFlag Name="SteelFootAndConcussion" Player="Enemy" Frames="1" /> <ModIcon Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" Block="0" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance" /> <CurrentAnimation Name="_Animation2" Not="1"/> </Conditions> <Actions> <ModFlag Name="SteelFootAndConcussion" Player="Enemy" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" Block="0" /> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Random Chance="_Chance2" /> <CurrentAnimation Name="_Animation2" /> </Conditions> <Actions> <ModFlag Name="SteelFootAndConcussion" Player="Enemy" Frames="1" /> <ModIcon Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" Block="0" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance2" /> <CurrentAnimation Name="_Animation2" /> </Conditions> <Actions> <ModFlag Name="SteelFootAndConcussion" Player="Enemy" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_SUPLEX" Image="throw_suplex"/> <Perk Name="PERK_OVERCHARGE" Template="EndStanceClear" Image="IconOvercharge"> <Set Limit="5" DamageFactor="5850" Frames="300"/> <Trigger> <Events> <MagicCharged/> </Events> <Conditions> </Conditions> <Actions> <ModVariable Name="OverchargeOn" Value="0" /> <ModFlag Name="Charge"/> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="Unarmed" Block="0"/> <HitPreCrit Player="Enemy" Animation="Weapon" Block="0"/> </Events> <Conditions> <ModExists Name="Charge"/> </Conditions> <Actions> <SetVariable Name="OverchargeOn" Value="?Variable[OverchargeOn]+1" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Block="0"/> </Events> <Conditions> <Bullets Type="MagicBullet" Min="1"/> <Equal Value1="?Variable[OverchargeOn]" Value2="_Limit"/> </Conditions> <Actions> <ClearMods/> <SetVariable Name="OverchargeOn" Value="0" /> <ModIcon Name="Icon" Image="IconOvercharge_Blue" ShowExpiration="1" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="MagicMissile"/> </Events> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ModAttributes Frames="1" DamageFactor="_DamageFactor" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_EAGLE_EYE" Image="IconEagleEye" Template="EndStanceClear"> <Set Frames="180" Frames2="300" DamageFactor="50000" Step="60" Chance="0.2"/> <Trigger> <Events> <AnimationStart Name="RangedPlayer"/> <RoundStageStart Name="Fight"/> </Events> <Conditions> </Conditions> <Actions> <ModFlag Name="Blocker" Frames="_Frames2"/> </Actions> </Trigger> <Trigger> <Events> <EveryFrame Step="_Step" /> </Events> <Conditions> <RoundStage Name="Fight" /> <ModExists Name="Icon" Not="1" /> <ModExists Name="Blocker" Not="1" /> <Random Chance="_Chance"/> </Conditions> <Actions> <ModIcon Name="Icon" Image="IconEagleEye_Blue" Frames="_Frames" ShowExpiration="1"/> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="RangedMissile"/> </Events> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ClearMods/> <ModAttributes Frames="1" DamageFactor="_DamageFactor" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_MARTIAL_SPIRIT" Template="EndStanceClear" Image="IconMartialSpirit"> <Set Chance="0.2" Frames="90" MagicDamageRecharge="13000" Animation="Unarmed"/> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Item Name="NoMagic" Player="Me" Not="1" /> <Random Chance="_Chance" /> </Conditions> <Actions> <ModAttributes Player="Me" MagicDamageRecharge="_MagicDamageRecharge" Frames="1" /> <ModIcon Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance" /> </Conditions> <Actions> <ModAttributes Player="Me" MagicDamageRecharge="_MagicDamageRecharge" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk><Perk Name="PERK_ROCK" Template="EndStanceClear" Image="IconRock"> <Set Chance="0.25" Frames="90" Lifesteal="-10000"/> <Trigger> <Events> <HitPostCrit Player="Me" Critical="1" /> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Random Chance="_Chance" /> <CurrentInterval Player="Me" Name="Unstable" Not="1"/> <CurrentAnimation Player="Me" Name="ThrowFall" Not="1"/> <CurrentAnimation Player="Me" Name="Physical" Not="1"/> </Conditions> <Actions> <ModAttributes Player="Enemy" Frames="1" Lifesteal="_Lifesteal" /> <ModFlag Name="RockOn" Frames="1" /> <ModIcon Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" Critical="1" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance" /> <CurrentInterval Player="Me" Name="Unstable" Not="1"/> <CurrentAnimation Player="Me" Name="ThrowFall" Not="1"/> <CurrentAnimation Player="Me" Name="Physical" Not="1"/> </Conditions> <Actions> <ModAttributes Player="Enemy" Frames="1" Lifesteal="_Lifesteal" /> <ModFlag Name="RockOn" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_CONCUSSION" Template="EndStanceClear" Image="IconConcussion"> <Set Chance="0.2" /> <Trigger> <Events> <PostHit Player="Enemy" Shock="1" /> </Events> <Conditions> <Random Chance="_Chance" /> </Conditions> <Actions> <ModFlag Player="Enemy" Name="Concussion"/> <ModIcon Name="Icon" Player="Enemy" Image="IconConcussion_Red"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ENLIGHTENMENT" Template="EndStanceClear" Image="IconEnlightenment" > <Set Chance="0.25" Health="0.1"/> <Trigger> <Events> <PostHit/> </Events> <Conditions> <GreaterEqual Value1="?Hit[].Damage" Value2="?PlayerParameter[Me].Health" /> <ModExists Name="SavingThrow" Not="1" /> <Random Chance="_Chance" /> </Conditions> <Actions> <SetHit Damage="?Root[?PlayerParameter[Me].Health - _Health ]" /> <ModFlag Name="SavingThrow" /> <ModIcon Name="Icon" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_CRITICAL_CHANCE" Template="EndStanceClear" Hidden="1"> <Set Aspect="0" Base="3000" Animation="Weapon" /> <Trigger> <Events> <HitPreCrit Animation="_Animation" Player="Enemy" Block="0" /> </Events> <Actions> <ModAttributes CriticalChance="_Base * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" Frames="1" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_LIFESTEAL" Alias="ENCHANTMENT_LIFESTEAL" Description="DESC_ENCHANTMENT_LIFESTEAL{_Base/100}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentLifeDrain" Hidden="0"> <Set Aspect="0" Base="25000" Animation="Weapon" Chance="0.4" Frames="90" DamageRating="Weapon" MultiplierRating="2"/> <RatingEvaluation> <Rating Player="Me" Damage="_DamageRating" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="_DamageRating" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Animation="_Animation" Player="Enemy" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModAttributes Lifesteal="_Base" Frames="1" /> <ModIcon Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Animation="_Animation" Player="Enemy" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes Lifesteal="_Base" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_BLEEDING" Template="EndStanceClear" Alias="ENCHANTMENT_BLEEDING" Description="DESC_ENCHANTMENT_BLEEDING{_Base*(-1)*60/60000}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentBleeding" Hidden="0"> <Set Aspect="0" Base="-6000" ChanceFactor="3.3" Animation="Weapon" Frames="300" LagFrames="50" DamageRating="Weapon"/> <RatingEvaluation> <Rating Player="Me" Damage="_DamageRating" Defense="BodyDefense" Multiplier="2" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="_DamageRating" Defense="HeadDefense" Multiplier="2" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModIcon Name="Icon" Player="Enemy" Frames="_Frames" ShowExpiration="1" Image="EnchantmentBleeding_Red"/> <ModFlag Name="BleedingCycle" Player="Enemy" Frames="_LagFrames"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="Bleeding" Player="Enemy"/> </Events> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ModFlag Name="BleedingCycle" Player="Enemy" Frames="_LagFrames"/> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="BleedingCycle" Player="Enemy"/> </Events> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ModAttributes Name="Bleeding" Player="Enemy" RegenerationRate="_Base" Frames="10"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_INTOXICATION" Template="EndStanceClear" Alias="ENCHANTMENT_INTOXICATION" Description="DESC_ENCHANTMENT_INTOXICATION{_Base*(-1)*60/10000}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentIntoxication" Hidden="0"> <Set Aspect="0" Base="-500" ChanceFactor="3.3" Animation="Weapon" Frames="300" DamageRating="Weapon"/> <RatingEvaluation> <Rating Player="Me" Damage="_DamageRating" Defense="BodyDefense" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="_DamageRating" Defense="HeadDefense" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModAttributes Name="Intoxication" Player="Enemy" RegenerationRate="_Base" Frames="_Frames"/> <ModIcon Name="Icon" Player="Enemy" Frames="_Frames" ShowExpiration="1" Image="EnchantmentIntoxication_Red"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon"/> </Conditions> <Actions> <ModAttributes Name="Intoxication" Player="Enemy" RegenerationRate="_Base" Frames="_Frames"/> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_SHIELDING" Template="EndStanceClear" Alias="ENCHANTMENT_SHIELDING" Description="DESC_ENCHANTMENT_SHIELDING{75}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentShielding" Hidden="0"> <Set Aspect="0" Base="-20000" HitDamageIncrease="0.25" Frames="420" BaseDamage="0.1" Defense="BodyDefense" Chance="0.6" FramesBetweenHits="238" ItemAmplification="0.625" MultiplierRating="1.59"/> <RatingEvaluation> <Rating Player="Enemy" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Enemy" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModVariable Name="EffectsCount" Value="0"/> <ModVariable Name="EffectHit" Value="0"/> <ModVariable Name="RegularHit" Value="0"/> <ModVariable Name="RegularDefenseBaseDamage" Value="0"/> <ModVariable Name="EffectChanceFactor" Value="_FramesBetweenHits / ( _BaseDamage * _Frames * ( ( _HitDamageIncrease - 1 ) / (_ItemAmplification - 1 ) - 1 ) )"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me"/> </Events> <Conditions> <Operator Type="Or"> <ModExists Name="IconShielding" Not="1"/> <ModExists Name="Flag"/> </Operator> </Conditions> <Actions> <SetVariable Name="RegularHit" Value="?Variable[RegularHit]+?Hit[].Damage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me" Defense="_Defense"/> </Events> <Conditions> <Operator Type="Or"> <ModExists Name="IconShielding" Not="1"/> <ModExists Name="Flag"/> </Operator> </Conditions> <Actions> <SetVariable Name="RegularDefenseBaseDamage" Value="?Variable[RegularDefenseBaseDamage]+?Hit[].BaseDamage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me"/> </Events> <Conditions> <ModExists Name="IconShielding"/> <ModExists Name="Flag" Not="1"/> </Conditions> <Actions> <SetVariable Name="EffectHit" Value="?Variable[EffectHit]+?Hit[].Damage / _HitDamageIncrease"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" Defense="_Defense" /> </Events> <Conditions> <ModExists Name="IconShielding" Not="1"/> <Random Chance="?Variable[EffectChanceFactor] * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]"/> </Conditions> <Actions> <ModIcon Name="IconShielding" Frames="_Frames" ShowExpiration="1" Image="EnchantmentShielding_Blue"/> <ModFlag Name="Flag" Frames="1"/> <SetVariable Name="EffectsCount" Value="?Variable[EffectsCount]+1"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" /> </Events> <Conditions> <ModExists Name="IconShielding" /> </Conditions> <Actions> <ModAttributes Player="Enemy" Name="Shielding" DamageFactor="_Base" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconShielding"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularDefenseBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )" Value2="?Variable[RegularHit] / 5"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="?Variable[RegularHit] / ( ?Variable[RegularDefenseBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] ) )"/> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconShielding"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularHit] / 5" Value2="?Variable[RegularDefenseBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="5"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_REGENERATION" Template="EndStanceClear" Alias="ENCHANTMENT_REGENERATION" Description="DESC_ENCHANTMENT_REGENERATION{_Base*60/10000}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentRegeneration" Hidden="0"> <Set Aspect="0" Base="750" ChanceFactor="2.2" Frames="300" Defense="BodyDefense" DefenseRating="BodyDefense"/> <RatingEvaluation> <Rating Player="Enemy" Defense="_DefenseRating" Multiplier="2" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Me" Defense="_Defense" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Regeneration" Not="1" /> </Conditions> <Actions> <ModAttributes Name="Regeneration" RegenerationRate="_Base" Frames="_Frames"/> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="EnchantmentRegeneration_Blue" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me" Defense="_Defense" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Regeneration" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> <SetModFrames Name="Regeneration" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_REJUVENATION" Template="EndStanceClear" Alias="ENCHANTMENT_REJUVENATION" Description="DESC_ENCHANTMENT_REJUVENATION{_Base*60/10000}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentRejuvenation" Hidden="0"> <Set Aspect="0" Base="500" ChanceFactor="2.2" Frames="300" Defense="BodyDefense" DefenseRating="BodyDefense"/> <RatingEvaluation> <Rating Player="Enemy" Defense="_DefenseRating" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Me" Defense="_Defense" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Regeneration" Not="1" /> </Conditions> <Actions> <ModAttributes Name="Regeneration" RegenerationRate="_Base" Frames="_Frames"/><ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="EnchantmentRejuvenation_Blue" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me" Defense="_Defense" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Regeneration" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> <SetModFrames Name="Regeneration" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_DAMAGE_RETURN" Alias="ENCHANTMENT_DAMAGE_RETURN" Description="DESC_ENCHANTMENT_DAMAGE_RETURN{_Base*(-1)/100}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentDamageReturn" Hidden="0"> <Set Aspect="0" Base="-8500" Defense="BodyDefense" Chance="0.6" Frames="120" DefenseRating="BodyDefense"/> <RatingEvaluation> <Rating Player="Enemy" Defense="_DefenseRating" Multiplier="2" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Defense="_Defense" Player="Me" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModAttributes Player="Enemy" Lifesteal="_Base" Frames="1" /> <ModIcon Name="Icon" Frames="_Frames" Image="EnchantmentDamageReturn" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Defense="_Defense" Player="Me" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Icon"/> </Conditions> <Actions> <ModAttributes Player="Enemy" Lifesteal="_Base" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" Player="Enemy" /> <SetModFrames Name="Icon" Frames="_Frames" Player="Enemy" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_PRECISION" Template="EndStanceClear" Alias="ENCHANTMENT_PRECISION" Description="DESC_ENCHANTMENT_PRECISION" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentCriticalChance" Hidden="0"> <Set Aspect="0" Chance="0.2" DamageFactor="10000" Animation="Weapon" Frames="90"/> <Set Aspect="?RandomAspect[-30,30]" Animation="Weapon" DamageRating="Weapon"/> <RatingEvaluation> <Rating Player="Me" Damage="DamageRating" Defense="BodyDefense" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="DamageRating" Defense="HeadDefense" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <HitPostCrit Critical="0" Animation="_Animation" Player="Enemy" Block="0" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> </Conditions> <Actions> <ModAttributes DamageFactor="_DamageFactor" Frames="1" /> <SetHit Critical="1"/> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModIcon Name="Icon" Player="Me" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_SHOCK" Template="EndStanceClear" Alias="ENCHANTMENT_SHOCK" Description="DESC_ENCHANTMENT_SHOCK" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentShock" Hidden="0"> <Set Aspect="0" ChanceFactor="70000" Animation="Weapon" Frames="90"/> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModVariable Name="OldChanceFactor" Value="?PlayerAttribute[Me].ShockHeadHitChance"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Animation="_Animation" Player="Enemy" Block="0" /> </Events> <Actions> <ModAttributes ShockHeadHitChance="_ChanceFactor" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Shock="1"/> </Events> <Conditions> <Random Chance="1 - ?Variable[OldChanceFactor] / ?PlayerAttribute[Me].ShockHeadHitChance"/> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_MAGIC_DAMAGE_RECHARGE" Template="EndStanceClear" Alias="ENCHANTMENT_MAGIC_RECHARGE" Description="DESC_ENCHANTMENT_MAGIC_DAMAGE_RECHARGE{300}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentMagicRecharge" Hidden="0"> <Set Aspect="1000" Base="20000" Chance="0.5" Animation="Weapon" Frames="90" MultiplierRating="1.39"/> <RatingEvaluation> <Rating Player="Me" Damage="Magic" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Animation="_Animation" Player="Enemy" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> </Conditions> <Actions> <ModAttributes MagicDamageRecharge="_Base" Frames="1" /> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModIcon Name="Icon" Player="Me" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_MAGIC_PAIN_RECHARGE" Template="EndStanceClear" Alias="ENCHANTMENT_MAGIC_RECHARGE" Description="DESC_ENCHANTMENT_MAGIC_PAIN_RECHARGE{700}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentMagicRecharge" Hidden="0"> <Set Aspect="1000" Base="30000" Chance="0.5" Defense="BodyDefense" Frames="90" MultiplierRating="1.83"/> <RatingEvaluation> <Rating Player="Me" Damage="Magic" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Defense="_Defense" Player="Me" Animation="Unarmed"/> <PostHit Defense="_Defense" Player="Me" Animation="Weapon"/> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> </Conditions> <Actions> <ModAttributes MagicPainRecharge="_Base" Frames="1" /> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModIcon Name="Icon" Player="Me" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_CRITICAL_PROTECTION" Template="EndStanceClear" Alias="ENCHANTMENT_CRITICAL_PROTECTION" Description="DESC_ENCHANTMENT_CRITICAL_PROTECTION{_Chance * 100}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentCriticalProtection" Hidden="0"> <Set Aspect="0" Base="-5850" Chance="0.2" Frames="120" Defense="BodyDefense" /> <Trigger> <Events> <HitPostCrit Player="Me" Defense="_Defense" Critical="1" /> </Events> <Conditions> <Random Chance="_Chance" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModAttributes CriticalDamage="_Base * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" Frames="1" Player="Enemy" /> <ModIcon Name="Icon" Player="Me" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" Defense="_Defense" Critical="1" /> </Events> <Conditions> <Random Chance="_Chance" /> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes CriticalDamage="_Base * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" Frames="1" Player="Enemy" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_STUN" Template="EndStanceClear" Alias="ENCHANTMENT_STUN" Description="DESC_ENCHANTMENT_STUN{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentStun" Hidden="0"> <Set Aspect="0" DamageFactor="15850" ChanceFactor="1.9" Animation="Weapon" Frames="300" MultiplierRating="2"/> <RatingEvaluation> <Rating Player="Me" Damage="Weapon" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="Weapon" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <Random Chance="_ChanceFactor * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="Stun" Not="1" /> </Conditions> <Actions> <ModFlag Name="Stun" Player="Enemy" Frames="_Frames" /> <ModIcon Name="Icon" Player="Enemy" Image="EnchantmentStun_Red" ShowExpiration="1" /> </Actions> </Trigger> <Trigger> <Events> <AnimationEnd Player="Enemy" Name="Stun" /> <HitPreCrit Player="Enemy" /> </Events> <Conditions> <Operator Type="Or"> <CurrentAnimation Name="Stun" Player="Enemy"/> <CurrentAnimation Name="StunTransitionFromIdle" Player="Enemy"/> </Operator> </Conditions> <Actions> <ClearMods /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy"/> </Events> <Conditions> <CurrentAnimation Name="Stun" Player="Enemy"/> </Conditions> <Actions> <ModAttributes Name="StunDamage" DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <AnimationStart Player="Enemy" Name="Stun" /> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <SetModFrames Name="Icon" Frames="150" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_FRENZY" Template="EndStanceClear" Alias="ENCHANTMENT_FRENZY" Description="DESC_ENCHANTMENT_FRENZY{150}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentFrenzy" Hidden="0"> <Set Aspect="0" Base="13220" HitDamageIncrease="2.5" Chance="0.3" Animation="Weapon" Frames="300" BaseDamage="0.1" FramesBetweenHits="615" ItemAmplification="1.29" MultiplierRating="1.29" /> <RatingEvaluation> <Rating Player="Me" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModVariable Name="EffectsCount" Value="0"/> <ModVariable Name="EffectHit" Value="0"/> <ModVariable Name="RegularHit" Value="0"/> <ModVariable Name="RegularAnimationBaseDamage" Value="0"/> <ModVariable Name="EffectChanceFactor" Value="_FramesBetweenHits / ( _BaseDamage * _Frames * ( ( _HitDamageIncrease - 1 ) / (_ItemAmplification - 1 ) - 1 ) )"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy"/> </Events> <Conditions> <Operator Type="Or"> <ModExists Name="IconFrenzy" Not="1"/> <ModExists Name="Flag"/> </Operator> </Conditions> <Actions> <SetVariable Name="RegularHit" Value="?Variable[RegularHit]+?Hit[].Damage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation"/> </Events> <Conditions> <Operator Type="Or"> <ModExists Name="IconFrenzy" Not="1"/> <ModExists Name="Flag"/> </Operator> </Conditions> <Actions> <SetVariable Name="RegularAnimationBaseDamage" Value="?Variable[RegularAnimationBaseDamage]+?Hit[].BaseDamage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy"/> </Events> <Conditions> <ModExists Name="IconFrenzy"/> <ModExists Name="Flag" Not="1"/> </Conditions> <Actions> <SetVariable Name="EffectHit" Value="?Variable[EffectHit]+?Hit[].Damage / _HitDamageIncrease"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <ModExists Name="IconFrenzy" Not="1"/> <Random Chance="?Variable[EffectChanceFactor] * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]"/> </Conditions> <Actions> <ModIcon Name="IconFrenzy" Frames="_Frames" ShowExpiration="1" Image="EnchantmentFrenzy_Blue"/> <ModFlag Name="Flag" Frames="1"/> <SetVariable Name="EffectsCount" Value="?Variable[EffectsCount]+1"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="Weapon" /> <HitPostCrit Player="Enemy" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="IconFrenzy" /> </Conditions> <Actions> <ModAttributes Player="Me" Name="Frenzy" DamageFactor="_Base" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconFrenzy"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )" Value2="?Variable[RegularHit] / 5"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="?Variable[RegularHit] / ( ?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] ) )"/> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconFrenzy"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularHit] / 5" Value2="?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )"/></Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="5"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_FRENZY_DEFENSE" Template="EndStanceClear" Alias="ENCHANTMENT_FRENZY" Description="DESC_ENCHANTMENT_FRENZY_DEFENSE{150}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentFrenzy" Hidden="0"> <Set Aspect="0" Base="13220" HitDamageIncrease="2.5" Chance="0.33" Defense="BodyDefense" Frames="300" BaseDamage="0.1" FramesBetweenHits="238" ItemAmplification="1.60" MultiplierRating="1.60" /> <RatingEvaluation> <Rating Player="Me" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModVariable Name="EffectsCount" Value="0"/> <ModVariable Name="EffectHit" Value="0"/> <ModVariable Name="RegularHit" Value="0"/> <ModVariable Name="RegularDefenseBaseDamage" Value="0"/> <ModVariable Name="EffectChanceFactor" Value="_FramesBetweenHits / ( _BaseDamage * _Frames * ( ( _HitDamageIncrease - 1 ) / (_ItemAmplification - 1 ) - 1 ) )"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy"/> </Events> <Conditions> <ModExists Name="IconFrenzyDefense" Not="1"/> </Conditions> <Actions> <SetVariable Name="RegularHit" Value="?Variable[RegularHit]+?Hit[].Damage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me" Defense="_Defense"/> </Events> <Conditions> <ModExists Name="IconFrenzyDefense" Not="1"/> </Conditions> <Actions> <SetVariable Name="RegularDefenseBaseDamage" Value="?Variable[RegularDefenseBaseDamage]+?Hit[].BaseDamage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy"/> </Events> <Conditions> <ModExists Name="IconFrenzyDefense"/> </Conditions> <Actions> <SetVariable Name="EffectHit" Value="?Variable[EffectHit]+?Hit[].Damage / _HitDamageIncrease"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" Defense="_Defense" /> </Events> <Conditions> <ModExists Name="IconFrenzyDefense" Not="1"/> <Random Chance="?Variable[EffectChanceFactor] * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]"/> </Conditions> <Actions> <ModIcon Name="IconFrenzyDefense" Frames="_Frames" ShowExpiration="1" Image="EnchantmentFrenzy_Blue"/> <SetVariable Name="EffectsCount" Value="?Variable[EffectsCount]+1"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="Weapon" /> <HitPostCrit Player="Enemy" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="IconFrenzyDefense" /> </Conditions> <Actions> <ModAttributes Player="Me" Name="Frenzy" DamageFactor="_Base" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconFrenzyDefense"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularDefenseBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )" Value2="?Variable[RegularHit] / 5"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="?Variable[RegularHit] / ( ?Variable[RegularDefenseBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] ) )"/> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconFrenzyDefense"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularHit] / 5" Value2="?Variable[RegularDefenseBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="5"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_OVERHEAT" Template="EndStanceClear" Alias="ENCHANTMENT_OVERHEAT" Description="DESC_ENCHANTMENT_DAMAGE_OVERHEAT{200}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentOverheat" Hidden="0"> <Set Aspect="0" Base="15850" ChanceFactor="5" Animation="Weapon" Frames="300" MultiplierRating="1.3"/> <RatingEvaluation> <Rating Player="Me" Damage="Weapon" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="Weapon" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="Unarmed" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="Unarmed" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <ModExists Name="Icon" Not="1"/> <Random Chance="_ChanceFactor * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="EnchantmentOverheat_Blue" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="Weapon" /> <HitPostCrit Player="Enemy" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes Name="SuperHit" DamageFactor="_Base" Frames="1" /> <ClearMods Name="Icon"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_OVERHEAT_DEFENSE" Template="EndStanceClear" Alias="ENCHANTMENT_OVERHEAT" Description="DESC_ENCHANTMENT_PAIN_OVERHEAT{200}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentOverheat" Hidden="0"> <Set Aspect="0" Base="15850" ChanceFactor="5" Defense="BodyDefense" Frames="300" MultiplierRating="1.71"/> <RatingEvaluation> <Rating Player="Me" Damage="Weapon" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="Weapon" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="Unarmed" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="Unarmed" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Me" Defense="_Defense" /> </Events> <Conditions> <ModExists Name="Icon" Not="1"/> <Random Chance="_ChanceFactor * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="EnchantmentOverheat_Blue" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="Weapon" /> <HitPostCrit Player="Enemy" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes Name="SuperHit" DamageFactor="_Base" Frames="1" /> <ClearMods Name="Icon"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_TIME_BOMB" Template="EndStanceClear" Alias="ENCHANTMENT_TIME_BOMB" Description="DESC_ENCHANTMENT_TIME_BOMB{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentTimeBomb" Hidden="0"> <Set Frames="120" FlagName="CurseBomb" AnimationName="CurseBomb" Animation="Weapon" ChanceFactor="4.3" DamageRating="Weapon"/> <RatingEvaluation> <Rating Player="Me" Damage="_DamageRating" Defense="BodyDefense" Multiplier="2" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="_DamageRating" Defense="HeadDefense" Multiplier="2" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation"/> </Events> <Conditions> <Random Chance="?Hit[].Damage * _ChanceFactor * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <ModExists Name="_FlagName" Not="1" /> </Conditions> <Actions> <ModIcon Name="Icon" Player="Enemy" Frames="_Frames" ShowExpiration="1" Image="EnchantmentTimeBomb_Red" /> <ModFlag Name="_FlagName" Frames="_Frames" Player="Me"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="Bomb"/> </Events> <Actions> <SetHit Damage="0.23"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_ENFEEBLE" Template="EndStanceClear" Alias="ENCHANTMENT_ENFEEBLE" Description="DESC_ENCHANTMENT_ENFEEBLE{75}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" BarShift="45" Image="EnchantmentEnfeeble" Hidden="0"> <Set Aspect="0" Base="-20000" HitDamageIncrease="0.25" Chance="0.41" Defense="BodyDefense" Frames="600" BaseDamage="0.1" FramesBetweenHits="238" ItemAmplification="0.78" MultiplierRating="1.27"/> <RatingEvaluation> <Rating Player="Enemy" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Enemy" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModVariable Name="EffectsCount" Value="0"/> <ModVariable Name="EffectHit" Value="0"/> <ModVariable Name="RegularHit" Value="0"/> <ModVariable Name="RegularAnimationBaseDamage" Value="0"/> <ModVariable Name="EffectChanceFactor" Value="_FramesBetweenHits / ( _BaseDamage * _Frames * ( ( _HitDamageIncrease - 1 ) / (_ItemAmplification - 1 ) - 1 ) )"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me"/> </Events> <Conditions> <ModExists Name="IconEnfeeble" Not="1"/> </Conditions> <Actions> <SetVariable Name="RegularHit" Value="?Variable[RegularHit]+?Hit[].Damage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation"/> </Events> <Conditions> <ModExists Name="IconEnfeeble" Not="1"/> </Conditions> <Actions> <SetVariable Name="RegularAnimationBaseDamage" Value="?Variable[RegularAnimationBaseDamage]+?Hit[].BaseDamage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me"/> </Events> <Conditions> <ModExists Name="IconEnfeeble"/> </Conditions> <Actions> <SetVariable Name="EffectHit" Value="?Variable[EffectHit]+?Hit[].Damage / _HitDamageIncrease"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <ModExists Name="IconEnfeeble" Not="1"/> <Random Chance="?Variable[EffectChanceFactor] * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]"/> </Conditions> <Actions> <ModIcon Name="IconEnfeeble" Frames="_Frames" ShowExpiration="1" Image="EnchantmentEnfeeble_Red" Player="Enemy"/> <SetVariable Name="EffectsCount" Value="?Variable[EffectsCount]+1"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me"/> </Events> <Conditions> <ModExists Name="IconEnfeeble" /> </Conditions> <Actions> <ModAttributes Player="Enemy" Name="Enfeeble" DamageFactor="_Base" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconEnfeeble"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )" Value2="?Variable[RegularHit] / 5"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="?Variable[RegularHit] / ( ?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] ) )"/> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconEnfeeble"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularHit] / 5" Value2="?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="5"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_WEAKNESS" Template="EndStanceClear" Alias="ENCHANTMENT_WEAKNESS" Description="DESC_ENCHANTMENT_WEAKNESS{75}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentWeakness" Hidden="0"> <Set Aspect="0" Base="-20000" HitDamageIncrease="0.25" Chance="0.41" Defense="BodyDefense" Frames="300" BaseDamage="0.1" FramesBetweenHits="238" ItemAmplification="0.877" MultiplierRating="1.14"/> <RatingEvaluation> <Rating Player="Enemy" Defense="BodyDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Enemy" Defense="HeadDefense" Multiplier="_MultiplierRating" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModVariable Name="EffectsCount" Value="0"/> <ModVariable Name="EffectHit" Value="0"/> <ModVariable Name="RegularHit" Value="0"/> <ModVariable Name="RegularAnimationBaseDamage" Value="0"/> <ModVariable Name="EffectChanceFactor" Value="_FramesBetweenHits / ( _BaseDamage * _Frames * ( ( _HitDamageIncrease - 1 ) / (_ItemAmplification - 1 ) - 1 ) )"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me"/> </Events> <Conditions> <ModExists Name="IconWeakness" Not="1"/> </Conditions> <Actions> <SetVariable Name="RegularHit" Value="?Variable[RegularHit]+?Hit[].Damage"/> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation"/> </Events> <Conditions> <ModExists Name="IconWeakness" Not="1"/> </Conditions> <Actions> <SetVariable Name="RegularAnimationBaseDamage" Value="?Variable[RegularAnimationBaseDamage]+?Hit[].BaseDamage"/> </Actions> </Trigger> <Trigger> <Events><PostHit Player="Me"/> </Events> <Conditions> <ModExists Name="IconWeakness"/> </Conditions> <Actions> <SetVariable Name="EffectHit" Value="?Variable[EffectHit]+?Hit[].Damage / _HitDamageIncrease"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <ModExists Name="IconWeakness" Not="1"/> <Random Chance="?Variable[EffectChanceFactor] * ?Hit[].BaseDamage * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]"/> </Conditions> <Actions> <ModIcon Name="IconWeakness" Frames="_Frames" ShowExpiration="1" Image="EnchantmentWeakness_Red" Player="Enemy"/> <SetVariable Name="EffectsCount" Value="?Variable[EffectsCount]+1"/> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me"/> </Events> <Conditions> <ModExists Name="IconWeakness" /> </Conditions> <Actions> <ModAttributes Player="Enemy" Name="Weakness" DamageFactor="_Base" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconWeakness"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )" Value2="?Variable[RegularHit] / 5"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="?Variable[RegularHit] / ( ?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] ) )"/> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="IconWeakness"/> </Events> <Conditions> <GreaterEqual Value1="?Variable[RegularHit] / 5" Value2="?Variable[RegularAnimationBaseDamage] * ( ?Variable[EffectHit] * ( 1 + 1/?Variable[EffectsCount] ) * ( (_HitDamageIncrease - 1)/(_ItemAmplification - 1) - 1) - ?Variable[RegularHit] )"/> </Conditions> <Actions> <SetVariable Name="EffectChanceFactor" Value="5"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_DAMAGE_ABSORPTION_HEAD" Template="EndStanceClear" Alias="ENCHANTMENT_DAMAGE_ABSORPTION" Description="DESC_ENCHANTMENT_DAMAGE_ABSORPTION_HEAD{_Chance * 100}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentHeadProtection" Hidden="0"> <Set Aspect="0" DamageFactor="-25850" Frames="90" Chance="0.4" Defense="HeadDefense" DefenseRating="HeadDefense"/> <RatingEvaluation> <Rating Player="Enemy" Defense="_DefenseRating" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <HitPreCrit Player="Me" Defense="_Defense" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> </Conditions> <Actions> <ModAttributes Name="DAMAGE_ABSORPTION_HEAD" DamageFactor="-100000" Player="Enemy" Frames="1"/> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" Image="EnchantmentHeadProtection" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse"/> <SetModFrames Name="Icon" Frames="_Frames"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_DAMAGE_ABSORPTION_BODY" Template="EndStanceClear" Alias="ENCHANTMENT_DAMAGE_ABSORPTION" Description="DESC_ENCHANTMENT_DAMAGE_ABSORPTION_BODY{_Chance * 100}{_Frames / 60}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentBodyProtection" Hidden="0"> <Set Aspect="0" DamageFactor="-25850" Frames="90" Chance="0.4" Defense="_DefenseRating"/> <RatingEvaluation> <Rating Player="Enemy" Defense="_DefenseRating" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <HitPreCrit Player="Me" Defense="_Defense" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> </Conditions> <Actions> <ModAttributes Name="DAMAGE_ABSORPTION_BODY" DamageFactor="-100000" Player="Enemy" Frames="1"/> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" Image="EnchantmentBodyProtection" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse"/> <SetModFrames Name="Icon" Frames="_Frames"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_ITEM_SPECIAL_BLOODRAGE" Alias="ENCHANTMENT_BLOODRAGE" Description="DESC_ENCHANTMENT_BLOODRAGE{(_Factor-1)*100}{_Base*(-1)/100}" BarSetAttribute="Aspect" BarScale="Enchantment" Image="EnchantmentBloodrage" Hidden="0"> <Set Animation="Weapon" Aspect="0" Base="-3000" Factor="3" Chance="0.3" Frames="90" DamageRating="Weapon"/> <RatingEvaluation> <Rating Player="Me" Damage="_DamageRating" Defense="BodyDefense" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> <Rating Player="Me" Damage="_DamageRating" Defense="HeadDefense" Multiplier="1.5" EnemyAttribute="EnchantmentResistance"/> </RatingEvaluation> <Trigger> <Events> <PostHit Player="Enemy" Animation="_Animation" /> </Events> <Conditions> <Random Chance="_Chance * ?Aspect[_Aspect - ?PlayerAttribute[Enemy].EnchantmentResistance]" /> <Less Value1="?Hit[].Damage * ?Abs[_Base] * _Factor / 10000" Value2="?PlayerParameter[Me].Health" /> </Conditions> <Actions> <ModAttributes Player="Me" Lifesteal="_Base" Frames="1" /> <SetHit Damage="?Hit[].Damage * _Factor" /> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon"/> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <ModExists Name="Icon" Not="1"/> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" Image="EnchantmentBloodrage_Blue" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_ANTI_SHOCK" Template="EndStanceClear" Hidden="1"> <Trigger> <Events> <PostHit Shock="1"/> </Events> <Actions> <SetHit Shock="0" Disarm="0"/> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_HERMIT_MAGIC" Template="EndStanceClear" Image="IconThrifty"> <Set Step="120" Charge="0.05" /> <Trigger> <Events> <EveryFrame Step="_Step" /> </Events> <Conditions> <RoundStage Name="Fight" /> <Less Value1="?PlayerParameter[Me].MagicBullet" Value2="1" /> </Conditions> <Actions> <AddMagicCharge Value="_Charge" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_BUTCHER_BLEEDING" Template="EndStanceClear" Image="EnchantmentBleeding_Red"> <Set RegenerationRate="-300" Frames="600" /> <Trigger> <Events> <PostHit Player="Enemy" Animation="Weapon" /> <PostHit Player="Enemy" Animation="RangedMissile" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * 5" /> </Conditions> <Actions> <ModAttributes Name="Bleeding" Player="Enemy" RegenerationRate="_RegenerationRate" Frames="_Frames"/> <ModIcon Name="Icon" Player="Enemy" ShowExpiration="1" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_WEAPON_BLOCK_BREAKER" Template="EndStanceClear" Image="IconBlockBreaker"> <Set Chance="0.25" Frames="90"/> <Trigger> <Events> <HitPreCrit Player="Enemy" Block="1" Animation="Weapon" /> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Random Chance="_Chance" /> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" /> <SetHit Block="0" /> </Actions> </Trigger> <Trigger> <Events> <HitPreCrit Player="Enemy" Block="1" Animation="Weapon" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_Chance" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> <SetHit Block="0" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_GREATER_GOOD_SHARPENING" Image="IconGoodSharpening"> <Set Frames="90"/> <Trigger> <Events> <HitPostCrit Player="Enemy" Critical="0" Block="0" Animation="Weapon" Frames="90"/> </Events> <Conditions> <ModExists Name="Icon" Not="1" /> <Random Chance="0.15" /> </Conditions> <Actions> <ModIcon Name="Icon" Player="Enemy" Frames="_Frames" /> <SetHit Critical="1" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Critical="0" Block="0" Animation="Weapon" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="0.15" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> <SetHit Critical="1" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_WASP_DAMAGE_RETURN" Image="EnchantmentDamageReturn_Red"> <Set DamageReturn="-7500" Chance="0.25" Frames="120"/> <Trigger> <Events> <PostHit Player="Me" /> </Events> <Conditions> <Random Chance="_Chance" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModAttributes Player="Enemy" Lifesteal="_DamageReturn" Frames="1" /> <ModIcon Name="Icon" Player="Enemy" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me" /> </Events> <Conditions> <Random Chance="_Chance" /> <ModExists Name="Icon"/> </Conditions> <Actions> <ModAttributes Player="Enemy" Lifesteal="_DamageReturn" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" Player="Enemy" /> <SetModFrames Name="Icon" Frames="_Frames" Player="Enemy" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_WASP_REGENERATION" Template="EndStanceClear" Image="EnchantmentRegeneration_Blue"> <Set RegenerationRate="150" Frames="600" /> <Trigger> <Events> <PostHit Player="Me" Block="0" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * 3" /> <ModExists Name="Regeneration" Not="1" /> </Conditions> <Actions> <ModAttributes Name="Regeneration" RegenerationRate="_RegenerationRate" Frames="_Frames"/> <ModIcon Name="Icon" ShowExpiration="1" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me" Block="0" /> </Events> <Conditions> <Random Chance="?Hit[].Damage * 3" /> <ModExists Name="Regeneration" /> </Conditions> <Actions> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> <SetModFrames Name="Regeneration" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_WIDOW_LIFESTEAL" Image="EnchantmentLifeDrain"> <Set Lifesteal="20000" Chance="0.33" Frames="120"/> <Trigger> <Events> <PostHit Player="Enemy" /> </Events> <Conditions> <Random Chance="_Chance" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModAttributes Lifesteal="_Lifesteal" Frames="1" /> <ModIcon Name="Icon" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Enemy" /> </Events> <Conditions> <Random Chance="_Chance" /> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes Lifesteal="_Lifesteal" Frames="1" /> <ApplyModEffect Name="Icon" Type="Pulse" /> <SetModFrames Name="Icon" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_WIDOW_SHIELDING" Template="EndStanceClear" Image="EnchantmentShielding_Blue"> <Set DamageFactor="-16000" Frames="600" Chance="0.35" NegateFrames="300"/> <Trigger> <Events> <HitPreCrit Player="Me" /> </Events> <Conditions> <ModExists Name="Blocker" Not="1" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModFlag Name="Blocker" Frames="_NegateFrames" /> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <Random Chance="_Chance" /> </Conditions> <Actions> <ModAttributes Name="Shielding" DamageFactor="_DamageFactor" Frames="_Frames" Player="Enemy" /> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="EnchantmentShielding_Blue" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_SHOGUN_FRENZY" Template="EndStanceClear" Image="EnchantmentFrenzy_Blue"> <Set DamageFactor="10000" Chance="0.35" BlockBreakChance="0.35" Frames="600" NegateFarmes="300" /> <Trigger> <Events> <HitPreCrit Player="Enemy" /> </Events> <Conditions> <ModExists Name="Blocker" Not="1" /> <ModExists Name="Icon" Not="1" /> </Conditions> <Actions> <ModFlag Name="Blocker" Frames="_NegateFarmes" /> <Provoke Trigger="Slave" /> </Actions> </Trigger> <Trigger Name="Slave"> <Conditions> <Random Chance="_Chance" /> </Conditions> <Actions> <ModIcon Name="Icon" Frames="_Frames" ShowExpiration="1" Image="EnchantmentFrenzy_Blue" /> <SetTactic Name="Shogun_Aggressive" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Animation="Weapon" /> <HitPostCrit Player="Enemy" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="Icon" /> </Conditions> <Actions> <ModAttributes Name="Frenzy" DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="Icon" /> </Events> <Actions> <SetTactic Name="Shogun" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Enemy" Block="1" Animation="Weapon" /> <HitPostCrit Player="Enemy" Block="1" Animation="Unarmed" /> </Events> <Conditions> <ModExists Name="Icon" /> <Random Chance="_BlockBreakChance" /> </Conditions> <Actions> <SetHit Block="0" /> <ModIcon Name="Icon" Frames="90" Image="IconBlockBreaker" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_INVISIBILITY" Template="EndStanceClear" Image="IconInvisibility"><Set Frames="300" InitialFrames="300" FlagName="InvisibilityRecharge"/> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModFlag Name="_FlagName" Frames="_InitialFrames" /> </Actions> </Trigger> <Trigger> <Events> <ModExpires Name="Invisibility" /> </Events> <Conditions> <CurrentAnimation Name="InvisibilityCloakPlayer" Not="1" /> <ModExists Name="Invisibility" Not="1" /> <ModExists Name="_FlagName" Not="1" /> </Conditions> <Actions> <ModFlag Name="_FlagName" Frames="_Frames" /> </Actions> </Trigger> <Trigger> <Events> <EveryFrame Step="3"/> </Events> <Conditions> <CurrentAnimation Name="InvisibilityCloakPlayer" Min="13" Max="13" /> <ModExists Name="Invisibility" Not="1" /> <ModExists Name="_FlagName" Not="1" /> </Conditions> <Actions> <ModIcon Name="Invisibility" Image="IconInvisibility_Blue" /> <ModInvisibility Name="Invisibility" /> <SetTactic Name="Lynx_Invisible" /> <DisableInterval IntervalName="Uninterrupt" /> <ModFlag Name="InvisibilityTimeout_flag" Frames="600" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" Critical="1"/> </Events> <Conditions> <ModExists Name="Invisibility" /> <ModExists Name="_FlagName" Not="1" /> </Conditions> <Actions> <ClearMods Name="Invisibility" /> <ClearMods Name="InvisibilityTimeout_flag" /> <SetTactic Name="Lynx_Ranged" /> </Actions> </Trigger> <Trigger> <Events> <HitPostCrit Player="Me" Critical="0" Block="0"/> </Events> <Conditions> <ModExists Name="Invisibility" /> <ModExists Name="InvisibilityTimeout_flag" Not="1" /> <ModExists Name="_FlagName" Not="1" /> </Conditions> <Actions> <ClearMods Name="Invisibility" /> <SetTactic Name="Lynx_Ranged" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_BOSS_ABILITY" Template="EndStanceClear"> <Set Frames="300" InitialFrames="300" FlagName="BossAbilityRecharge" AnimationName="BossAbility"/> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Actions> <ModFlag Name="_FlagName" Frames="_InitialFrames" /> </Actions> </Trigger> <Trigger> <Events> <AnimationStart Name="_AnimationName" /> </Events> <Actions> <ModFlag Name="_FlagName" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_HERMITSTORM" Template="PERK_BOSS_ABILITY"> <Set Frames="300" FlagName="HermitStormRecharge" AnimationName="HermitStormPlayer"/> <Trigger> <Events> <PostHit Player="Me" /> </Events> <Conditions> <Operator Type="Or"> <CurrentAnimation Player="Me" Name="HermitStormPlayer" /> <CurrentAnimation Player="Me" Name="HermitStormPlayerIdle" /> </Operator> </Conditions> <Actions> <ModFlag Name="_FlagName" Frames="_Frames" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_EARTHQUAKE" Template="PERK_BOSS_ABILITY"> <Set Frames="300" FlagName="EarthquakeRecharge" AnimationName="ButcherEarthquakePlayer"/> </Perk> <Perk Name="PERK_WASPFLY" Template="PERK_BOSS_ABILITY"> <Set Frames="300" FlagName="WaspFlyRecharge" AnimationName="WaspFly"/> </Perk> <Perk Name="PERK_TELEPORTATION" Template="PERK_BOSS_ABILITY"> <Set Frames="300" FlagName="TeleportationRecharge" AnimationName="WidowTeleportationStart"/> </Perk> <Perk Name="PERK_ASSISTANTS" Template="PERK_BOSS_ABILITY"> <Set Frames="300" FlagName="AssistantsRecharge" AnimationName="SummonAssistant"/> </Perk> <Perk Name="GREATER_RANGED_DAMAGE" Template="EndStanceClear"> <Set DamageFactor="300000" Animation="RangedMissile"/> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions/> <Actions> <ModAttributes Player="Me" DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> </Perk> <Perk Name="GREATER_MAGIC_DAMAGE" Template="EndStanceClear"> <Set DamageFactor="300000" Animation="MagicMissile"/> <Trigger> <Events> <HitPreCrit Player="Enemy" Animation="_Animation" /> </Events> <Conditions/> <Actions> <ModAttributes Player="Me" DamageFactor="_DamageFactor" Frames="1" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_TRANSIENT_BLEEDING" Template="EndStanceClear" Hidden="1" Image="IconMagicAttack_Red"> <Set AttributeBleeding="0" /> <Trigger> <Events> <PostHit Player="Enemy"/> </Events> <Actions> <ClearMods /> </Actions> </Trigger> <Trigger> <Events> <PostHit Player="Me"/> </Events> <Conditions> <ModExists Name="PassingEffect" Not="1" /> </Conditions> <Actions> <ModAttributes Name="PassingEffect" Player="Me" RegenerationRate="_AttributeBleeding" /> <ModIcon Name="Icon" /> </Actions> </Trigger> <Trigger> <Events> <AnimationStart Player="Me" Name="HermitStormPlayer" /> </Events> <Conditions> <ModExists Player="Me" Name="PassingEffect" /> </Conditions> <Actions> <ClearMods /> </Actions> </Trigger> </Perk> <Perk Name="PERK_AREA_HEALTH_REGENERATION" Template="EndStanceClear" Hidden="1"> <Set AttributeRegeneration="0" /> <Trigger> <Events> <AreaEnter Player="Me" /> </Events> <Conditions> <RoundStage Name="Fight" /> <CurrentAnimation Not="1" Player="Me" Name="HermitStormPlayer" /> <CurrentAnimation Not="1" Player="Me" Name="HermitStormPlayerIdle" /> </Conditions> <Actions> <ModAttributes Name="Regeneration" Player="Me" RegenerationRate="_AttributeRegeneration" /> </Actions> </Trigger> <Trigger> <Events> <AreaExit Player="Me" /> </Events> <Actions> <ClearMods Name="Regeneration"/> </Actions> </Trigger> <Trigger> <Events> <AnimationStart Player="Me" Name="HermitStormPlayer" /> </Events> <Conditions> <ModExists Player="Me" Name="Regeneration" /> </Conditions> <Actions> <ClearMods Name="Regeneration" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_AREA_HEALTH_DEGENERATION" Template="EndStanceClear" Hidden="1"> <Set AttributeBleeding="0" /> <Trigger> <Events> <AreaEnter Player="Me" /> </Events> <Conditions> <RoundStage Name="Fight" /> <CurrentAnimation Not="1" Player="Me" Name="HermitStormPlayer" /> <CurrentAnimation Not="1" Player="Me" Name="HermitStormPlayerIdle" /> </Conditions> <Actions> <ModAttributes Name="Degeneration" Player="Me" RegenerationRate="_AttributeBleeding"/> </Actions> </Trigger> <Trigger> <Events> <AreaExit Player="Me" /> </Events> <Actions> <ClearMods Name="Degeneration" /> </Actions> </Trigger> <Trigger> <Events> <AnimationStart Player="Me" Name="HermitStormPlayer" /> </Events> <Conditions> <ModExists Player="Me" Name="Degeneration" /> </Conditions> <Actions> <ClearMods Name="Degeneration" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_AREA_VULNERABILITY" Template="EndStanceClear" Hidden="1"> <Trigger> <Events> <RoundStageStart Name="Fight" /> </Events> <Conditions> <InTheArea Player="Me" Not="1"/> <ModExists Not="1" Name="Invulnerability" /> <RoundStage Name="Fight" /> </Conditions> <Actions> <ModAttributes Name="Invulnerability" Player="Enemy" DamageFactor="-100000" /> </Actions> </Trigger> <Trigger> <Events> <AreaExit Player="Me" /> </Events> <Conditions> <ModExists Not="1" Name="Invulnerability" /> <RoundStage Name="Fight" /> </Conditions> <Actions> <ModAttributes Name="Invulnerability" Player="Enemy" DamageFactor="-100000" /> </Actions> </Trigger> <Trigger> <Events> <AreaEnter Player="Me" /> </Events> <Actions> <ClearMods Name="Invulnerability" /> </Actions> </Trigger> </Perk> <Perk Name="PERK_AREA_FRAGILITY" Template="EndStanceClear" Hidden="1"> <Set AttributeDamageFactor="0" /> <Trigger> <Events> <AreaEnter Player="Me" /> </Events> <Conditions> <ModExists Not="1" Name="Fragility" /> <RoundStage Name="Fight" /> <CurrentAnimation Not="1" Player="Me" Name="HermitStormPlayer" /> <CurrentAnimation Not="1" Player="Me" Name="HermitStormPlayerIdle" /> </Conditions> <Actions> <ModAttributes Name="Fragility" Player="Enemy" DamageFactor="_AttributeDamageFactor" /> </Actions> </Trigger> <Trigger> <Events> <AreaExit Player="Me" /> </Events> <Actions> <ClearMods Name="Fragility" /> </Actions> </Trigger> <Trigger> <Events> <AnimationStart Player="Me" Name="HermitStormPlayer" /> </Events> <Conditions> <ModExists Player="Me" Name="Fragility" /> </Conditions> <Actions> <ClearMods Name="Fragility" /> </Actions> </Trigger> </Perk> </Perks>